# network size

SIZE                    7

# parameters of periodic execution

CYCLES                  100
CYCLE                   SIZE * 10000
EVENT_PROCESSING_TIME   1

EXPERIMENT_NAME c3-10-clients

# ------------------------------- #
# ---- Simulation Parameters ---- #
# ------------------------------- #

random.seed             10
network.size            SIZE

simulation.endtime      5000

# ------------------- #
# ---- Transport ---- #
# ------------------- #

protocol.urt            simulator.transports.LatencyMatrixTransport
{
    latency_path        config/latencies/latency-0-mat.txt
}

# -------------------------------------- #
# ---- Application / Clients Config ---- #
# -------------------------------------- #

protocol.application    causalityprotocols.c3.C3Application
{
    number_clients  10       # the number of clients being simulated per node
    weight_reads    20         # the percentage/weight of reads being simulated
    weight_writes   80         # the percentage/weight of writes being simulated
}

# -------------------------- #
# ---- Causality Config ---- #
# -------------------------- #

protocol.causality      causalityprotocols.c3.C3
{
    write_time      8          # the amount of time a write takes to execute
    read_time       12         # the amount of time that a read takes to execute
}

# ---------------------------- #
# ---- Topology / Overlay ---- #
# ---------------------------- #

protocol.overlay        simulator.protocols.overlay.SimpleOverlay         # replace path with desired overlay protocol

# select the topology that you with to use and initialize it,
# initialize the node inits as well

# ------------------- #
# ---- Broadcast ---- #
# ------------------- #

protocol.broadcast      simulator.protocols.broadcast.click.ClickBroadcast    # replace path with desired broadcast protocol
{
    transport           urt
}

# select the broadcast protocol you wish to use, and initialize it

# ---------------------- #
# ---- Initializers ---- #
# ---------------------- #

init.applicationInit    simulator.protocols.application.ApplicationInitializer
{
    protocol            application
}

init.overlayInit        simulator.protocols.overlay.alltoall.AllToAllInitializer

# ---------------------------------- #
# ----- Controls and Observers ----- #
# ---------------------------------- #

include.control         latencyObserver, throughputObserver

control.latencyObserver     simulator.observers.LatencyObserver
{
    step    4999
}

control.throughputObserver  simulator.observers.ThroughputObserver
{
    step    4999
}